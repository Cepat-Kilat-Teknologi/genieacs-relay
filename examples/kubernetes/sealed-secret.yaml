# SealedSecret - Safe to commit to Git
# Install: https://sealed-secrets.netlify.app/
#
# How to create:
# 1. Create regular secret first:
#    kubectl create secret generic genieacs-relay-secret \
#      --namespace=genieacs \
#      --from-literal=NBI_AUTH_KEY=$(openssl rand -hex 32) \
#      --from-literal=AUTH_KEY=$(openssl rand -hex 32) \
#      --dry-run=client -o yaml > /tmp/secret.yaml
#
# 2. Seal it:
#    kubeseal --format=yaml < /tmp/secret.yaml > sealed-secret.yaml
#
# 3. Apply:
#    kubectl apply -f sealed-secret.yaml

apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: genieacs-relay-secret
  namespace: genieacs
  labels:
    app.kubernetes.io/name: genieacs-relay
spec:
  encryptedData:
    # Replace with your sealed values from kubeseal
    NBI_AUTH_KEY: AgBy3i4OJSWK+PiTySYZZA9rO43cGDEq...
    AUTH_KEY: AgBy3i4OJSWK+PiTySYZZA9rO43cGDEq...
  template:
    metadata:
      name: genieacs-relay-secret
      namespace: genieacs
      labels:
        app.kubernetes.io/name: genieacs-relay
    type: Opaque
